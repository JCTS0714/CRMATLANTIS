import{e as D,g as u,i as d,k as x,j as e,E as P,t as y,n as te,q as fe,A as k,F as Y,m as ee,z as E,B as _,r as I,G as re,H as me,I as ge,o as ve,u as S,l as xe,w as oe,x as ne}from"./vendor-vue-Db-AqoDh.js";import{S as X}from"./vendor-ui-DEm6YKEA.js";import{_ as V,c as ke,g as we,a as $e}from"./BaseModal-DiudK4Y3.js";import{a as R}from"./vendor-utils-Czy7fllw.js";const Ce={class:"bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-slate-900 dark:border-slate-800"},Se={key:0,class:"p-4 border-b border-gray-200 dark:border-slate-800"},Be={class:"flex items-center justify-between"},Ae={class:"text-sm font-semibold text-gray-900 dark:text-slate-100"},Pe={key:0,class:"mt-1 text-xs text-gray-600 dark:text-slate-300"},Ee={key:1,class:"p-4 border-t border-gray-200 dark:border-slate-800"},Te={__name:"BaseCard",props:{title:{type:String,default:""},subtitle:{type:String,default:""},padding:{type:Boolean,default:!0},noPadding:{type:Boolean,default:!1}},setup(t){const a=t,n=D(()=>a.noPadding||!a.padding?"":"p-4");return(l,r)=>(d(),u("div",Ce,[l.$slots.header||t.title?(d(),u("div",Se,[P(l.$slots,"header",{},()=>[e("div",Be,[e("div",null,[e("h3",Ae,y(t.title),1),t.subtitle?(d(),u("p",Pe,y(t.subtitle),1)):x("",!0)]),P(l.$slots,"headerActions")])])])):x("",!0),e("div",{class:te(n.value)},[P(l.$slots,"default")],2),l.$slots.footer?(d(),u("div",Ee,[P(l.$slots,"footer")])):x("",!0)]))}},_e={class:"flex items-center justify-between"},De={class:"text-sm font-semibold text-gray-900 dark:text-slate-100"},Ie={key:0,class:"mt-1 text-xs text-gray-600 dark:text-slate-300"},ze={class:"flex items-center gap-3"},je={key:0,class:"text-xs text-gray-600 dark:text-slate-300"},Me={key:0,class:"p-4 border-b border-gray-200 dark:border-slate-800"},Ue={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},qe={key:0,class:"flex-1"},Fe=["for"],Ve=["id","value","placeholder"],Oe={class:"flex items-center gap-2"},Qe=["value"],Ke=["value"],Le={key:0,class:"mt-4"},Ge={key:1,class:"p-4 border-b border-red-200 bg-red-50 dark:border-red-900/40 dark:bg-red-950/30"},He={class:"text-sm text-red-700 dark:text-red-200"},Re={class:"overflow-x-auto"},Je={class:"text-xs uppercase bg-gray-50 text-gray-700 dark:bg-slate-800 dark:text-slate-200"},Ne={class:"flex items-center gap-2"},We=["onClick"],Xe={key:0},Ye=["colspan"],Ze={key:1},et=["colspan"],tt={key:2,class:"p-4 border-t border-gray-200 dark:border-slate-800"},at={class:"flex items-center justify-between gap-3"},st={class:"text-xs text-gray-600 dark:text-slate-300"},rt={__name:"GenericTable",props:{tableId:{type:String,default:()=>`table-${Date.now()}`},title:{type:String,required:!0},subtitle:{type:String,default:""},columns:{type:Array,required:!0,validator:t=>t.every(a=>a.key&&a.label)},items:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},error:{type:String,default:null},pagination:{type:Object,default:()=>({current_page:1,last_page:1,total:0,from:null,to:null})},showPagination:{type:Boolean,default:!0},paginationInfo:{type:String,default:""},searchable:{type:Boolean,default:!0},searchQuery:{type:String,default:""},searchPlaceholder:{type:String,default:"Buscar..."},sortable:{type:Boolean,default:!1},showFilters:{type:Boolean,default:!0},showPerPageSelector:{type:Boolean,default:!0},perPage:{type:Number,default:25},perPageOptions:{type:Array,default:()=>[10,15,25,50]},tableClass:{type:String,default:""},emptyMessage:{type:String,default:"No hay datos para mostrar"},rowKey:{type:[String,Function],default:"id"}},emits:["search","sort","page-change","per-page-change"],setup(t){const a=t,n=D(()=>!a.loading&&a.items.length===0),l=(r,s)=>typeof a.rowKey=="function"?a.rowKey(r,s):r[a.rowKey]||s;return(r,s)=>(d(),fe(Te,{title:t.title,subtitle:t.subtitle,"no-padding":""},{header:k(()=>[e("div",_e,[e("div",null,[e("h3",De,y(t.title),1),t.paginationInfo?(d(),u("p",Ie,y(t.paginationInfo),1)):x("",!0)]),e("div",ze,[P(r.$slots,"headerActions"),t.loading?(d(),u("div",je,"Cargando…")):x("",!0)])])]),default:k(()=>[t.showFilters?(d(),u("div",Me,[e("div",Ue,[t.searchable?(d(),u("div",qe,[e("label",{class:"sr-only",for:`${t.tableId}-search`},"Buscar",8,Fe),e("input",{id:`${t.tableId}-search`,value:t.searchQuery,type:"search",placeholder:t.searchPlaceholder,class:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 placeholder:text-gray-400 shadow-sm focus:border-blue-500 focus:ring-4 focus:ring-blue-100 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100 dark:placeholder:text-slate-500",onInput:s[0]||(s[0]=c=>r.$emit("search",c.target.value))},null,40,Ve)])):x("",!0),e("div",Oe,[P(r.$slots,"filters"),t.showPerPageSelector?(d(),u("select",{key:0,value:t.perPage,class:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm focus:border-blue-500 focus:ring-4 focus:ring-blue-100 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100",onChange:s[1]||(s[1]=c=>r.$emit("per-page-change",Number(c.target.value)))},[(d(!0),u(Y,null,ee(t.perPageOptions,c=>(d(),u("option",{key:c,value:c},y(c),9,Ke))),128))],40,Qe)):x("",!0)])]),r.$slots.secondaryFilters?(d(),u("div",Le,[P(r.$slots,"secondaryFilters")])):x("",!0)])):x("",!0),t.error?(d(),u("div",Ge,[e("div",He,y(t.error),1)])):x("",!0),e("div",Re,[e("table",{class:te(["w-full text-sm text-left text-gray-700 dark:text-slate-200",t.tableClass])},[e("thead",Je,[e("tr",null,[(d(!0),u(Y,null,ee(t.columns,c=>(d(),u("th",{key:c.key,class:te(["px-4 py-3",c.headerClass])},[e("div",Ne,[E(y(c.label)+" ",1),c.sortable&&t.sortable?(d(),u("button",{key:0,type:"button",class:"text-gray-400 hover:text-gray-600 dark:hover:text-slate-300",onClick:B=>r.$emit("sort",c.key)},[...s[4]||(s[4]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M5 12l5 5 5-5H5z"})],-1)])],8,We)):x("",!0)])],2))),128))])]),e("tbody",null,[(d(!0),u(Y,null,ee(t.items,(c,B)=>P(r.$slots,"row",{key:l(c,B),item:c,index:B,columns:t.columns})),128)),n.value?(d(),u("tr",Xe,[e("td",{colspan:t.columns.length,class:"px-4 py-10 text-center text-sm text-gray-600 dark:text-slate-300"},[P(r.$slots,"empty",{},()=>[E(y(t.emptyMessage),1)])],8,Ye)])):x("",!0),t.loading&&t.items.length===0?(d(),u("tr",Ze,[e("td",{colspan:t.columns.length,class:"px-4 py-10 text-center text-sm text-gray-600 dark:text-slate-300"},[...s[5]||(s[5]=[e("div",{class:"flex items-center justify-center gap-2"},[e("svg",{class:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),E(" Cargando… ")],-1)])],8,et)])):x("",!0)])],2)]),t.showPagination&&t.pagination&&t.pagination.last_page>1?(d(),u("div",tt,[e("div",at,[_(V,{variant:"secondary",size:"sm",disabled:t.loading||t.pagination.current_page<=1,onClick:s[2]||(s[2]=c=>r.$emit("page-change",t.pagination.current_page-1))},{default:k(()=>[...s[6]||(s[6]=[E(" Anterior ",-1)])]),_:1},8,["disabled"]),e("div",st,[P(r.$slots,"paginationInfo",{},()=>[E(" Página "+y(t.pagination.current_page)+" / "+y(t.pagination.last_page),1)])]),_(V,{variant:"secondary",size:"sm",disabled:t.loading||t.pagination.current_page>=t.pagination.last_page,onClick:s[3]||(s[3]=c=>r.$emit("page-change",t.pagination.current_page+1))},{default:k(()=>[...s[7]||(s[7]=[E(" Siguiente ",-1)])]),_:1},8,["disabled"])])])):x("",!0)]),_:3},8,["title","subtitle"]))}},ot={__name:"BaseBadge",props:{variant:{type:String,default:"secondary",validator:t=>["primary","secondary","success","warning","danger","info"].includes(t)},size:{type:String,default:"sm",validator:t=>["xs","sm","md"].includes(t)},rounded:{type:Boolean,default:!1}},setup(t){const a=t,n=D(()=>{const l={xs:"px-1.5 py-0.5 text-xs",sm:"px-2 py-1 text-xs",md:"px-2.5 py-1.5 text-sm"};return ke("inline-flex items-center font-medium",a.rounded?"rounded-full":"rounded-md",l[a.size],we("badge",a.variant))});return(l,r)=>(d(),u("span",{class:te(n.value)},[P(l.$slots,"default")],2))}};function nt(t={}){const{endpoint:a,columns:n=[],defaultFilters:l={},actions:r={},defaultPerPage:s=25,searchDebounce:c=300,transformData:B=null,onError:U=null}=t,O=I(!1),Q=I(null),w=I([]),A=I([]),T=re({current_page:1,last_page:1,per_page:s,total:0,from:null,to:null}),q=re({q:"",page:1,per_page:s,sort_by:null,sort_direction:"asc",...l}),v=re({sortColumn:null,sortDirection:"asc",searchQuery:"",processing:new Set}),K=D(()=>w.value.length>0),$=D(()=>!O.value&&w.value.length===0),L=D(()=>T.total||0),J=D(()=>{if(!T.total)return"";const o=T.from||0,f=T.to||0,j=T.total||0;return`${o}-${f} de ${j}`}),G=D(()=>A.value.length>0),b=D(()=>K.value&&w.value.every(o=>A.value.includes(o.id))),H=async(o={})=>{var f,j,M;if(!a){console.error("useGenericTable: endpoint is required");return}O.value=!0,Q.value=null;try{const C={...q,...o},h=await R.get(a,{params:C});let g=((f=h.data)==null?void 0:f.data)||h.data;B&&typeof B=="function"&&(g=B(g)),w.value=(g==null?void 0:g.items)||g||[],g!=null&&g.pagination&&Object.assign(T,g.pagination)}catch(C){const h=((M=(j=C.response)==null?void 0:j.data)==null?void 0:M.message)||"Error al cargar los datos";Q.value=h,U&&typeof U=="function"?U(C,h):console.error("Table fetch error:",C)}finally{O.value=!1}},F=async(o={})=>{Object.assign(q,o),await H()},ae=async o=>{await F({page:o})},Z=async o=>{await F({per_page:o,page:1})},N=async o=>{v.searchQuery=o,await F({q:o,page:1})},m=async o=>{let f="asc";v.sortColumn===o&&(f=v.sortDirection==="asc"?"desc":"asc"),v.sortColumn=o,v.sortDirection=f,await F({sort_by:o,sort_direction:f,page:1})},i=async()=>{await H()},p=async()=>{Object.assign(q,{q:"",page:1,per_page:s,sort_by:null,sort_direction:"asc",...l}),v.sortColumn=null,v.sortDirection="asc",v.searchQuery="",await H()},W=o=>{A.value.includes(o)||A.value.push(o)},z=o=>{const f=A.value.indexOf(o);f>-1&&A.value.splice(f,1)},pe=o=>{A.value.includes(o)?z(o):W(o)},le=()=>{A.value=w.value.map(o=>o.id)},ie=()=>{A.value=[]},he=()=>{b.value?ie():le()},ce=async(o,f,j=null)=>{var M,C;if(!r[o])return console.error(`Action '${o}' is not defined`),!1;v.processing.add(f);try{const h=await r[o](f,j);if(o==="delete"){const g=w.value.findIndex(se=>se.id===f);g>-1&&w.value.splice(g,1),z(f)}else if(h!=null&&h.data){const g=w.value.findIndex(se=>se.id===f);g>-1&&(w.value[g]={...w.value[g],...h.data})}return h}catch(h){const g=((C=(M=h.response)==null?void 0:M.data)==null?void 0:C.message)||`Error en acción ${o}`;throw Q.value=g,h}finally{v.processing.delete(f)}},be=async(o,f,j=null)=>{const M=[],C=[];for(const h of f)try{const g=await ce(o,h,j);M.push({id:h,result:g})}catch(g){C.push({id:h,error:g})}return C.length>0&&console.error("Bulk action errors:",C),{results:M,errors:C}},ye=o=>v.processing.has(o);let de;const ue=o=>{clearTimeout(de),de=setTimeout(()=>{N(o)},c)};return me(()=>v.searchQuery,(o,f)=>{o!==f&&ue(o)}),{loading:O,error:Q,items:w,pagination:T,filters:q,tableState:v,selectedItems:A,hasData:K,isEmpty:$,totalCount:L,paginationInfo:J,hasSelectedItems:G,allItemsSelected:b,fetchData:H,applyFilters:F,changePage:ae,changePerPage:Z,handleSearch:N,handleSort:m,refresh:i,reset:p,selectItem:W,unselectItem:z,toggleSelection:pe,selectAll:le,unselectAll:ie,toggleSelectAll:he,performAction:ce,bulkAction:be,isProcessing:ye,debouncedSearch:ue}}class lt{constructor(a){this.baseEndpoint=a}async create(a){try{return(await R.post(this.baseEndpoint,a)).data}catch(n){throw n}}async update(a,n){try{return(await R.patch(`${this.baseEndpoint}/${a}`,n)).data}catch(l){throw l}}async delete(a){try{return(await R.delete(`${this.baseEndpoint}/${a}`)).data}catch(n){throw n}}async archive(a){try{return(await R.patch(`${this.baseEndpoint}/${a}/archive`)).data}catch(n){throw n}}async restore(a){try{return(await R.patch(`${this.baseEndpoint}/${a}/restore`)).data}catch(n){throw n}}getSweetAlertTheme(){return document.documentElement.classList.contains("dark")?{background:"#0f172a",color:"#f1f5f9",confirmButtonColor:"#ef4444",cancelButtonColor:"#64748b"}:{background:"#ffffff",color:"#1e293b",confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280"}}async confirmDelete(a,n=null){const l=n||`Se eliminará permanentemente "${a}"`,r=this.getSweetAlertTheme();return(await X.fire({title:"¿Eliminar elemento?",text:l,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:r.confirmButtonColor,cancelButtonColor:r.cancelButtonColor,background:r.background,color:r.color,reverseButtons:!0})).isConfirmed}async confirmArchive(a,n=null){const l=n||`Se archivará "${a}"`,r=this.getSweetAlertTheme();return(await X.fire({title:"¿Archivar elemento?",text:l,icon:"question",showCancelButton:!0,confirmButtonText:"Sí, archivar",cancelButtonText:"Cancelar",confirmButtonColor:"#f59e0b",cancelButtonColor:r.cancelButtonColor,background:r.background,color:r.color,reverseButtons:!0})).isConfirmed}async confirmBulkAction(a,n){const l=this.getSweetAlertTheme(),s={delete:{title:"¿Eliminar elementos?",text:`Se eliminarán ${n} elementos permanentemente`,confirmText:"Sí, eliminar todos",color:"#ef4444"},archive:{title:"¿Archivar elementos?",text:`Se archivarán ${n} elementos`,confirmText:"Sí, archivar todos",color:"#f59e0b"}}[a];return s?(await X.fire({title:s.title,text:s.text,icon:"warning",showCancelButton:!0,confirmButtonText:s.confirmText,cancelButtonText:"Cancelar",confirmButtonColor:s.color,cancelButtonColor:l.cancelButtonColor,background:l.background,color:l.color,reverseButtons:!0})).isConfirmed:!1}showSuccess(a,n="¡Éxito!"){const l=this.getSweetAlertTheme();X.fire({title:n,text:a,icon:"success",timer:2e3,showConfirmButton:!1,background:l.background,color:l.color})}showError(a,n="Error"){const l=this.getSweetAlertTheme();X.fire({title:n,text:a,icon:"error",background:l.background,color:l.color})}async bulkDelete(a){try{const n=a.map(c=>this.delete(c)),l=await Promise.allSettled(n),r=l.filter(c=>c.status==="fulfilled").length,s=l.filter(c=>c.status==="rejected").length;return s===0?this.showSuccess(`${r} elementos eliminados correctamente`):this.showError(`${r} elementos eliminados, ${s} fallaron`),{successful:r,failed:s}}catch(n){throw n}}async bulkArchive(a){try{const n=a.map(c=>this.archive(c)),l=await Promise.allSettled(n),r=l.filter(c=>c.status==="fulfilled").length,s=l.filter(c=>c.status==="rejected").length;return s===0?this.showSuccess(`${r} elementos archivados correctamente`):this.showError(`${r} elementos archivados, ${s} fallaron`),{successful:r,failed:s}}catch(n){throw n}}}function it(t){return new lt(t)}function ct(t){const a=it(t);return{actions:a,performAction:async(r,s,c=null,B="")=>{switch(r){case"delete":return await a.confirmDelete(B)?(await a.delete(s),a.showSuccess("Elemento eliminado correctamente"),!0):!1;case"archive":return await a.confirmArchive(B)?(await a.archive(s),a.showSuccess("Elemento archivado correctamente"),!0):!1;case"update":return await a.update(s,c),a.showSuccess("Elemento actualizado correctamente"),!0;case"create":const U=await a.create(c);return a.showSuccess("Elemento creado correctamente"),U;default:throw new Error(`Action '${r}' not supported`)}},performBulkAction:async(r,s)=>{if(!s.length||!await a.confirmBulkAction(r,s.length))return!1;switch(r){case"delete":return await a.bulkDelete(s);case"archive":return await a.bulkArchive(s);default:throw new Error(`Bulk action '${r}' not supported`)}}}}const dt={class:"border-b border-gray-100 bg-white hover:bg-blue-50/40 transition-colors dark:border-slate-800 dark:bg-slate-900 dark:hover:bg-slate-800/60"},ut={class:"px-4 py-3 font-medium text-gray-900 dark:text-slate-100"},gt={class:"px-4 py-3"},ft={class:"flex items-center gap-3"},mt={class:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center dark:bg-blue-900"},pt={class:"text-sm font-medium text-blue-600 dark:text-blue-300"},ht={class:"font-medium text-gray-900 dark:text-slate-100"},bt={class:"text-sm text-gray-500 dark:text-slate-400"},yt={class:"px-4 py-3"},vt={class:"flex flex-wrap gap-1"},xt={class:"px-4 py-3 text-sm text-gray-500 dark:text-slate-400"},kt={class:"px-4 py-3"},wt={class:"flex items-center gap-2"},$t={class:"py-2"},Ct={class:"grid grid-cols-1 gap-5"},St={class:"space-y-5"},Bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},At={key:0,class:"space-y-3"},Pt={class:"flex items-center justify-between pt-4"},Et={class:"flex items-center gap-3"},Tt={class:"flex items-center justify-center"},_t={key:0,class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Mt={__name:"UsersTable",setup(t){const a=[{key:"id",label:"ID",sortable:!0},{key:"name",label:"Usuario",sortable:!0},{key:"roles",label:"Roles"},{key:"created_at",label:"Creado",sortable:!0},{key:"actions",label:"Acciones"}],{loading:n,error:l,items:r,pagination:s,filters:c,tableState:B,paginationInfo:U,fetchData:O,changePage:Q,changePerPage:w,handleSearch:A,handleSort:T,isProcessing:q,refresh:v}=nt({endpoint:"/users/data",defaultFilters:{},actions:{},defaultPerPage:25}),{performAction:K}=ct("/users"),$=I(null),L=I(!1),J=I(!1),G=I(null),b=I({name:"",email:"",password:""}),H=m=>m?new Date(m).toLocaleString("es-ES"):"",F=m=>{var i;$.value=m,b.value={name:m.name,email:m.email,password:""},(i=G.value)==null||i.open()},ae=async m=>{await K("delete",m.id,null,m.name)&&v()},Z=async()=>{L.value=!0;try{$.value?await K("update",$.value.id,b.value):await K("create",null,b.value),N(),v()}catch(m){console.error("Error saving user:",m)}finally{L.value=!1}},N=()=>{var m;$.value=null,b.value={name:"",email:"",password:""},(m=G.value)==null||m.close(),ge(()=>{J.value=!1})};return me(()=>J.value,m=>{m&&(b.value={name:"",email:"",password:""},$.value=null,ge(()=>{var i;(i=G.value)==null||i.open()}))}),ve(async()=>{await O()}),(m,i)=>(d(),u(Y,null,[_(rt,{"table-id":"users-table",title:"Usuarios",columns:a,items:S(r),loading:S(n),error:S(l),pagination:S(s),"pagination-info":S(U),"search-query":S(B).searchQuery,"search-placeholder":"Buscar por nombre o email","per-page":S(c).per_page,"per-page-options":[10,25,50,100],sortable:"",onSearch:S(A),onSort:S(T),onPageChange:S(Q),onPerPageChange:S(w)},{headerActions:k(()=>[_(V,{variant:"primary",onClick:i[0]||(i[0]=p=>J.value=!0)},{default:k(()=>[...i[4]||(i[4]=[E(" Crear Usuario ",-1)])]),_:1})]),row:k(({item:p})=>{var W;return[e("tr",dt,[e("td",ut,y(p.id),1),e("td",gt,[e("div",ft,[e("div",mt,[e("span",pt,y((W=p.name)==null?void 0:W.charAt(0).toUpperCase()),1)]),e("div",null,[e("div",ht,y(p.name),1),e("div",bt,y(p.email),1)])])]),e("td",yt,[e("div",vt,[(d(!0),u(Y,null,ee(p.roles,z=>(d(),fe(ot,{key:z.id,variant:"primary",size:"xs",rounded:""},{default:k(()=>[E(y(z.name),1)]),_:2},1024))),128))])]),e("td",xt,y(H(p.created_at)),1),e("td",kt,[e("div",wt,[_(V,{variant:"ghost",size:"sm",loading:S(q)(p.id),onClick:z=>F(p)},{default:k(()=>[...i[5]||(i[5]=[E(" Editar ",-1)])]),_:1},8,["loading","onClick"]),_(V,{variant:"ghost",size:"sm",loading:S(q)(p.id),onClick:z=>ae(p)},{default:k(()=>[...i[6]||(i[6]=[E(" Eliminar ",-1)])]),_:1},8,["loading","onClick"])])])])]}),_:1},8,["items","loading","error","pagination","pagination-info","search-query","per-page","onSearch","onSort","onPageChange","onPerPageChange"]),_($e,{ref_key:"userModal",ref:G,title:$.value?"Editar Usuario":"Crear Usuario",subtitle:$.value?`Modificar datos de ${$.value.name}`:"Agregar nuevo usuario al sistema","max-width":"xl","close-on-backdrop":""},{footer:k(()=>[e("div",Pt,[i[15]||(i[15]=e("div",{class:"text-xs text-gray-500 dark:text-slate-400"}," * Campos obligatorios ",-1)),e("div",Et,[_(V,{variant:"secondary",size:"sm",onClick:N},{default:k(()=>[...i[13]||(i[13]=[E(" Cancelar ",-1)])]),_:1}),_(V,{variant:"primary",size:"sm",loading:L.value,disabled:!b.value.name||!b.value.email||!$.value&&!b.value.password,onClick:Z},{default:k(()=>[e("div",Tt,[L.value?x("",!0):(d(),u("svg",_t,[...i[14]||(i[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])),e("span",null,y($.value?"Actualizar":"Crear"),1)])]),_:1},8,["loading","disabled"])])])]),default:k(()=>[e("div",$t,[e("form",{onSubmit:xe(Z,["prevent"])},[e("div",Ct,[e("div",St,[i[12]||(i[12]=e("div",{class:"border-b border-gray-200 dark:border-slate-700 pb-3"},[e("h4",{class:"text-base font-semibold text-gray-900 dark:text-slate-100"},"Información Personal"),e("p",{class:"text-sm text-gray-600 dark:text-slate-400"},"Datos básicos del usuario")],-1)),e("div",Bt,[e("div",null,[i[7]||(i[7]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2"}," Nombre completo * ",-1)),oe(e("input",{"onUpdate:modelValue":i[1]||(i[1]=p=>b.value.name=p),type:"text",required:"",placeholder:"Ej: Juan Carlos Pérez",class:"block w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm shadow-sm transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-100 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 dark:placeholder:text-slate-400 dark:focus:border-blue-500 dark:focus:ring-blue-500/20"},null,512),[[ne,b.value.name]])]),e("div",null,[i[8]||(i[8]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2"}," Correo electrónico * ",-1)),oe(e("input",{"onUpdate:modelValue":i[2]||(i[2]=p=>b.value.email=p),type:"email",required:"",placeholder:"usuario@empresa.com",class:"block w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm shadow-sm transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-100 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 dark:placeholder:text-slate-400 dark:focus:border-blue-500 dark:focus:ring-blue-500/20"},null,512),[[ne,b.value.email]])])]),$.value?x("",!0):(d(),u("div",At,[i[11]||(i[11]=e("div",{class:"border-b border-gray-200 dark:border-slate-700 pb-3"},[e("h4",{class:"text-base font-semibold text-gray-900 dark:text-slate-100"},"Configuración de Acceso"),e("p",{class:"text-sm text-gray-600 dark:text-slate-400"},"Contraseña para el nuevo usuario")],-1)),e("div",null,[i[9]||(i[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2"}," Contraseña * ",-1)),oe(e("input",{"onUpdate:modelValue":i[3]||(i[3]=p=>b.value.password=p),type:"password",required:"",placeholder:"Mínimo 8 caracteres",class:"block w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm shadow-sm transition-colors focus:border-blue-500 focus:ring-2 focus:ring-blue-100 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 dark:placeholder:text-slate-400 dark:focus:border-blue-500 dark:focus:ring-blue-500/20"},null,512),[[ne,b.value.password]]),i[10]||(i[10]=e("p",{class:"mt-2 text-xs text-gray-500 dark:text-slate-400"}," La contraseña debe tener al menos 8 caracteres ",-1))])]))])])],32)])]),_:1},8,["title","subtitle"])],64))}};export{Mt as default};
