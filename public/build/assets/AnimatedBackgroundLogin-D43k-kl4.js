import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as X,o as Y,f as q,g as A,j as B,E as H,i as T}from"./vendor-vue-CzwclP9t.js";const O={class:"animated-bg-wrapper"},j={class:"login-card"},G={__name:"AnimatedBackgroundLogin",setup(N){const h=X(null);let n=null,p=null;const c=[],w=[],g=[],M=[],x=[],u=(()=>{let s={x:null,y:null};return{get x(){return s.x},get y(){return s.y},set({x:t,y:i}){s={x:t,y:i}},reset(){s={x:null,y:null}}}})();let f=0,k=0,y=!0;function D(){const s=h.value,t={heightConditions:[200,300,400,500,600],widthConditions:[450,600,900,1200,1600],particlesForHeight:[40,60,70,90,110],particlesForWidth:[40,50,70,90,110]};let i=130;for(let e=0;e<t.heightConditions.length;e++)if(s.height<t.heightConditions[e]){i=t.particlesForHeight[e];break}for(let e=0;e<t.widthConditions.length;e++)if(s.width<t.widthConditions[e]){i=Math.min(i,t.particlesForWidth[e]);break}return i}class P{constructor(t,i,e=!1){const a=e?Math.random()*2+1:Math.random()*.5+.3;Object.assign(this,{isFirework:e,x:t,y:i,vx:Math.cos(Math.random()*Math.PI*2)*a,vy:Math.sin(Math.random()*Math.PI*2)*a,size:e?Math.random()*2+2:Math.random()*3+1,hue:Math.random()*360,alpha:1,sizeDirection:Math.random()<.5?-1:1,trail:[]})}update(t){h.value;const i=t.x!==null?(t.x-this.x)**2+(t.y-this.y)**2:0;if(this.isFirework)this.alpha-=.02;else{const e=i&&i<22500?(22500-i)/22500:0;if(t.x===null&&y&&(this.vx+=(Math.random()-.5)*.03,this.vy+=(Math.random()-.5)*.03),i){const a=Math.sqrt(i);this.vx+=(t.x-this.x)/a*e*.1,this.vy+=(t.y-this.y)/a*e*.1}this.vx*=t.x!==null?.99:.998,this.vy*=t.y!==null?.99:.998}this.x+=this.vx,this.y+=this.vy,(this.x<=0||this.x>=h.value.width-1)&&(this.vx*=-.9),(this.y<0||this.y>h.value.height)&&(this.vy*=-.9),this.size+=this.sizeDirection*.1,(this.size>4||this.size<1)&&(this.sizeDirection*=-1),this.hue=(this.hue+.3)%360,k%2===0&&(Math.abs(this.vx)>.1||Math.abs(this.vy)>.1)&&(this.trail.push({x:this.x,y:this.y,hue:this.hue,alpha:this.alpha}),this.trail.length>15&&this.trail.shift())}draw(t){const i=t.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size);if(i.addColorStop(0,`hsla(${this.hue}, 80%, 60%, ${Math.max(this.alpha,0)})`),i.addColorStop(1,`hsla(${this.hue+30}, 80%, 30%, ${Math.max(this.alpha,0)})`),t.fillStyle=i,t.shadowBlur=h.value.width>900?10:0,t.shadowColor=`hsl(${this.hue}, 80%, 60%)`,t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fill(),t.shadowBlur=0,this.trail.length>1){t.beginPath(),t.lineWidth=1.5;for(let e=0;e<this.trail.length-1;e++){const{x:a,y:o,hue:l,alpha:r}=this.trail[e],{x:d,y:v}=this.trail[e+1];t.strokeStyle=`hsla(${l}, 80%, 60%, ${Math.max(r,0)})`,t.moveTo(a,o),t.lineTo(d,v)}t.stroke()}}isDead(){return this.isFirework&&this.alpha<=0}}class I{constructor(){Object.assign(this,{x:Math.random()*h.value.width,y:Math.random()*h.value.height,size:Math.random()*1.5+.5,hue:Math.random()*360,vx:(Math.random()-.5)*.05,vy:(Math.random()-.5)*.05})}update(){this.x=(this.x+this.vx+h.value.width)%h.value.width,this.y=(this.y+this.vy+h.value.height)%h.value.height,this.hue=(this.hue+.1)%360}draw(t){t.fillStyle=`hsla(${this.hue}, 30%, 70%, 0.3)`,t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fill()}}class z{constructor(t,i,e=0,a=30){Object.assign(this,{x:t,y:i,radius:0,maxRadius:a,alpha:.5,hue:e})}update(){this.radius+=1.5,this.alpha-=.01,this.hue=(this.hue+5)%360}draw(t){t.strokeStyle=`hsla(${this.hue}, 80%, 60%, ${this.alpha})`,t.lineWidth=2,t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.stroke()}isDone(){return this.alpha<=0}}function b(){c.length=0,g.length=0;const s=D();for(let t=0;t<s;t++)c.push(new P(Math.random()*h.value.width,Math.random()*h.value.height));for(let t=0;t<200;t++)g.push(new I)}function m(){const s=h.value;s.width=window.innerWidth,s.height=window.innerHeight,b()}function F(){const s=h.value;f=(f+.2)%360;const t=n.createLinearGradient(0,0,0,s.height);t.addColorStop(0,`hsl(${f}, 40%, 15%)`),t.addColorStop(1,`hsl(${(f+120)%360}, 40%, 25%)`),n.fillStyle=t,n.fillRect(0,0,s.width,s.height)}function R(){const t=new Map;c.forEach(i=>{const e=`${Math.floor(i.x/120)},${Math.floor(i.y/120)}`;t.has(e)||t.set(e,[]),t.get(e).push(i)}),n.lineWidth=1.5,c.forEach(i=>{const e=Math.floor(i.x/120),a=Math.floor(i.y/120);for(let o=-1;o<=1;o++)for(let l=-1;l<=1;l++){const r=`${e+o},${a+l}`;t.has(r)&&t.get(r).forEach(d=>{if(d!==i){const v=d.x-i.x,E=d.y-i.y,L=v*v+E*E;L<1e4&&(n.strokeStyle=`hsla(${(i.hue+d.hue)/2}, 80%, 60%, ${1-Math.sqrt(L)/100})`,n.beginPath(),n.moveTo(i.x,i.y),n.lineTo(d.x,d.y),n.stroke())}})}})}function C(){F(),[g,c,M,x,w].forEach(s=>{var t,i;for(let e=s.length-1;e>=0;e--){const a=s[e];a.update(u),a.draw(n),((t=a.isDone)!=null&&t.call(a)||(i=a.isDead)!=null&&i.call(a))&&s.splice(e,1)}}),R(),k++,p=requestAnimationFrame(C)}function $(s){const t=h.value.getBoundingClientRect();u.set({x:s.clientX-t.left,y:s.clientY-t.top}),x.push(new z(u.x,u.y)),y=!1}function S(){u.reset(),y=!0}function _(s){const t=h.value.getBoundingClientRect(),i=s.clientX-t.left,e=s.clientY-t.top;M.push(new z(i,e,0,60));for(let a=0;a<15;a++){const o=Math.random()*Math.PI*2,l=Math.random()*2+1,r=new P(i,e,!0);r.vx=Math.cos(o)*l,r.vy=Math.sin(o)*l,w.push(r)}}return Y(()=>{n=h.value.getContext("2d"),m(),C(),window.addEventListener("mousemove",$),window.addEventListener("mouseout",S),window.addEventListener("click",_),window.addEventListener("resize",m)}),q(()=>{cancelAnimationFrame(p),window.removeEventListener("mousemove",$),window.removeEventListener("mouseout",S),window.removeEventListener("click",_),window.removeEventListener("resize",m)}),(s,t)=>(T(),A("div",O,[B("canvas",{ref_key:"canvas",ref:h,id:"canvas"},null,512),B("div",j,[H(s.$slots,"login-form",{},void 0,!0)])]))}},J=W(G,[["__scopeId","data-v-579478ee"]]);export{J as default};
